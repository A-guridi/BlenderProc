

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Stereo Matching &mdash; BlenderProc 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> BlenderProc
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <div class="toctree-wrapper compound">
<ul class="compound-first">
<li class="toctree-l1 current"><a class="reference external" href="../README.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference external" href="../amass_human_poses/README.html">amass_human_poses</a></li>
<li class="toctree-l2"><a class="reference external" href="../auto_shading/README.html">auto_shading</a></li>
<li class="toctree-l2"><a class="reference external" href="../basic/README.html">basic</a></li>
<li class="toctree-l2"><a class="reference external" href="../basic_object_pose/README.html">basic_object_pose</a></li>
<li class="toctree-l2"><a class="reference external" href="../blenderkit/README.html">blenderkit</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_challenge/README.html">bop_challenge</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_object_on_surface_sampling/README.html">bop_object_on_surface_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_object_physics_positioning/README.html">bop_object_physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_object_pose_sampling/README.html">bop_object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../bop_scene_replication/README.html">bop_scene_replication</a></li>
<li class="toctree-l2"><a class="reference external" href="../calibration/README.html">calibration</a></li>
<li class="toctree-l2"><a class="reference external" href="../camera_depth_of_field/README.html">camera_depth_of_field</a></li>
<li class="toctree-l2"><a class="reference external" href="../camera_sampling/README.html">camera_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../coco_annotations/README.html">coco_annotations</a></li>
<li class="toctree-l2"><a class="reference external" href="../diffuse_color_image/README.html">diffuse_color_image</a></li>
<li class="toctree-l2"><a class="reference external" href="../dust/README.html">dust</a></li>
<li class="toctree-l2"><a class="reference external" href="../entity_displacement_modifier/README.html">entity_displacement_modifier</a></li>
<li class="toctree-l2"><a class="reference external" href="../entity_manipulation/README.html">entity_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="../front_3d/README.html">front_3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../front_3d_with_improved_mat/README.html">front_3d_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="../haven_dataset/README.html">haven_dataset</a></li>
<li class="toctree-l2"><a class="reference external" href="../ikea/README.html">ikea</a></li>
<li class="toctree-l2"><a class="reference external" href="../light_sampling/README.html">light_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../material_manipulation/README.html">material_manipulation</a></li>
<li class="toctree-l2"><a class="reference external" href="../material_randomizer/README.html">material_randomizer</a></li>
<li class="toctree-l2"><a class="reference external" href="../motion_blur_rolling_shutter/README.html">motion_blur_rolling_shutter</a></li>
<li class="toctree-l2"><a class="reference external" href="../object_pose_sampling/README.html">object_pose_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../on_surface_object_sampling/README.html">on_surface_object_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../optical_flow/README.html">optical_flow</a></li>
<li class="toctree-l2"><a class="reference external" href="../physics_convex_decomposition/README.html">physics_convex_decomposition</a></li>
<li class="toctree-l2"><a class="reference external" href="../physics_positioning/README.html">physics_positioning</a></li>
<li class="toctree-l2"><a class="reference external" href="../pix3d/README.html">pix3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../random_backgrounds/README.html">random_backgrounds</a></li>
<li class="toctree-l2"><a class="reference external" href="../random_room_constructor/README.html">random_room_constructor</a></li>
<li class="toctree-l2"><a class="reference external" href="../replica_dataset/README.html">replica_dataset</a></li>
<li class="toctree-l2"><a class="reference external" href="../rock_essentials/README.html">rock_essentials</a></li>
<li class="toctree-l2"><a class="reference external" href="../scenenet/README.html">scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../scenenet_with_cctextures/README.html">scenenet_with_cctextures</a></li>
<li class="toctree-l2"><a class="reference external" href="../semantic_segmentation/README.html">semantic_segmentation</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet/README.html">shapenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet_with_scenenet/README.html">shapenet_with_scenenet</a></li>
<li class="toctree-l2"><a class="reference external" href="../shapenet_with_suncg/README.html">shapenet_with_suncg</a></li>
<li class="toctree-l2"><a class="reference external" href="#">stereo_matching</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_basic/README.html">suncg_basic</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_cam_sampling/README.html">suncg_with_cam_sampling</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_improved_mat/README.html">suncg_with_improved_mat</a></li>
<li class="toctree-l2"><a class="reference external" href="../suncg_with_object_replacer/README.html">suncg_with_object_replacer</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Modules</span></p>
<li class="toctree-l1"><a class="reference external" href="../../src.camera.html">Camera</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.CameraInterface.html#src.camera.CameraInterface.CameraInterface">CameraInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.CameraLoader.html#src.camera.CameraLoader.CameraLoader">CameraLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.CameraSampler.html#src.camera.CameraSampler.CameraSampler">CameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.Front3DCameraSampler.html#src.camera.Front3DCameraSampler.Front3DCameraSampler">Front3DCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.ReplicaCameraSampler.html#src.camera.ReplicaCameraSampler.ReplicaCameraSampler">ReplicaCameraSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.camera.SuncgCameraSampler.html#src.camera.SuncgCameraSampler.SuncgCameraSampler">SuncgCameraSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.composite.html">Composite</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.composite.CameraObjectSampler.html#src.composite.CameraObjectSampler.CameraObjectSampler">CameraObjectSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.constructor.html">Constructor</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.constructor.BasicEmptyInitializer.html#src.constructor.BasicEmptyInitializer.BasicEmptyInitializer">BasicEmptyInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.constructor.BasicMeshInitializer.html#src.constructor.BasicMeshInitializer.BasicMeshInitializer">BasicMeshInitializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.constructor.RandomRoomConstructor.html#src.constructor.RandomRoomConstructor.RandomRoomConstructor">RandomRoomConstructor</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.constructor.RockEssentialsGroundConstructor.html#src.constructor.RockEssentialsGroundConstructor.RockEssentialsGroundConstructor">RockEssentialsGroundConstructor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.lighting.html">Lighting</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.lighting.LightInterface.html#src.lighting.LightInterface.LightInterface">LightInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.lighting.LightLoader.html#src.lighting.LightLoader.LightLoader">LightLoader</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.lighting.LightSampler.html#src.lighting.LightSampler.LightSampler">LightSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.lighting.SuncgLighting.html#src.lighting.SuncgLighting.SuncgLighting">SuncgLighting</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.lighting.SurfaceLighting.html#src.lighting.SurfaceLighting.SurfaceLighting">SurfaceLighting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.loader.html">Loader</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.AMASSLoaderModule.html#src.loader.AMASSLoaderModule.AMASSLoaderModule">AMASSLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.BlendLoaderModule.html#src.loader.BlendLoaderModule.BlendLoaderModule">BlendLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.BopLoaderModule.html#src.loader.BopLoaderModule.BopLoaderModule">BopLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.CCMaterialLoaderModule.html#src.loader.CCMaterialLoaderModule.CCMaterialLoaderModule">CCMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.Front3DLoaderModule.html#src.loader.Front3DLoaderModule.Front3DLoaderModule">Front3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.HavenEnvironmentLoaderModule.html#src.loader.HavenEnvironmentLoaderModule.HavenEnvironmentLoaderModule">HavenEnvironmentLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.HavenMaterialLoaderModule.html#src.loader.HavenMaterialLoaderModule.HavenMaterialLoaderModule">HavenMaterialLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.IKEALoaderModule.html#src.loader.IKEALoaderModule.IKEALoaderModule">IKEALoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.LoaderInterface.html#src.loader.LoaderInterface.LoaderInterface">LoaderInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.ObjectLoaderModule.html#src.loader.ObjectLoaderModule.ObjectLoaderModule">ObjectLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.Pix3DLoaderModule.html#src.loader.Pix3DLoaderModule.Pix3DLoaderModule">Pix3DLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.ReplicaLoaderModule.html#src.loader.ReplicaLoaderModule.ReplicaLoaderModule">ReplicaLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.RockEssentialsRockLoaderModule.html#src.loader.RockEssentialsRockLoaderModule.RockEssentialsRockLoaderModule">RockEssentialsRockLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.SceneNetLoaderModule.html#src.loader.SceneNetLoaderModule.SceneNetLoaderModule">SceneNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.ShapeNetLoaderModule.html#src.loader.ShapeNetLoaderModule.ShapeNetLoaderModule">ShapeNetLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.SuncgLoaderModule.html#src.loader.SuncgLoaderModule.SuncgLoaderModule">SuncgLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.TextureLoaderModule.html#src.loader.TextureLoaderModule.TextureLoaderModule">TextureLoaderModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.loader.VisNormalImage.html#src.loader.VisNormalImage.VisNormalImage">VisNormalImage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.manipulators.html">Manipulators</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.manipulators.EntityManipulator.html#src.manipulators.EntityManipulator.EntityManipulator">EntityManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.manipulators.MaterialManipulator.html#src.manipulators.MaterialManipulator.MaterialManipulator">MaterialManipulator</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.manipulators.WorldManipulator.html#src.manipulators.WorldManipulator.WorldManipulator">WorldManipulator</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.materials.html">Materials</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.materials.RockEssentialsTextureSampler.html#src.materials.RockEssentialsTextureSampler.RockEssentialsTextureSampler">RockEssentialsTextureSampler</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.object.html">Object</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.object.CalibrationboardSampler.html#src.object.CalibrationboardSampler.CalibrationboardSampler">CalibrationboardSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.FloorExtractorModule.html#src.object.FloorExtractorModule.FloorExtractorModule">FloorExtractorModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.HideModule.html#src.object.HideModule.HideModule">HideModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.ObjectPoseSamplerModule.html#src.object.ObjectPoseSamplerModule.ObjectPoseSamplerModule">ObjectPoseSamplerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.ObjectReplacerModule.html#src.object.ObjectReplacerModule.ObjectReplacerModule">ObjectReplacerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.OnSurfaceSampler.html#src.object.OnSurfaceSampler.OnSurfaceSampler">OnSurfaceSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.object.PhysicsPositioningModule.html#src.object.PhysicsPositioningModule.PhysicsPositioningModule">PhysicsPositioningModule</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.postprocessing.html">Postprocessing</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.postprocessing.Dist2Depth.html#src.postprocessing.Dist2Depth.Dist2Depth">Dist2Depth</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.postprocessing.NoiseRemoval.html#src.postprocessing.NoiseRemoval.NoiseRemoval">NoiseRemoval</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.postprocessing.OilPaintFilter.html#src.postprocessing.OilPaintFilter.OilPaintFilter">OilPaintFilter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.postprocessing.TrimRedundantChannels.html#src.postprocessing.TrimRedundantChannels.TrimRedundantChannels">TrimRedundantChannels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.renderer.html">Renderer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.renderer.FlowRenderer.html#src.renderer.FlowRenderer.FlowRenderer">FlowRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.renderer.RendererInterface.html#src.renderer.RendererInterface.RendererInterface">RendererInterface</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.renderer.RgbRenderer.html#src.renderer.RgbRenderer.RgbRenderer">RgbRenderer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.renderer.SegMapRenderer.html#src.renderer.SegMapRenderer.SegMapRenderer">SegMapRenderer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.writer.html">Writer</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.BopWriter.html#src.writer.BopWriter.BopWriter">BopWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.CameraStateWriter.html#src.writer.CameraStateWriter.CameraStateWriter">CameraStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.CocoAnnotationsWriter.html#src.writer.CocoAnnotationsWriter.CocoAnnotationsWriter">CocoAnnotationsWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.Hdf5Writer.html#src.writer.Hdf5Writer.Hdf5Writer">Hdf5Writer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.LightStateWriter.html#src.writer.LightStateWriter.LightStateWriter">LightStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.ObjectStateWriter.html#src.writer.ObjectStateWriter.ObjectStateWriter">ObjectStateWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.ShapeNetWriter.html#src.writer.ShapeNetWriter.ShapeNetWriter">ShapeNetWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.StereoGlobalMatchingWriter.html#src.writer.StereoGlobalMatchingWriter.StereoGlobalMatchingWriter">StereoGlobalMatchingWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.writer.WriterInterface.html#src.writer.WriterInterface.WriterInterface">WriterInterface</a></li>
</ul>
</li>
</ul>
<ul class="compound-middle">
<p class="caption"><span class="caption-text">Provider</span></p>
<li class="toctree-l1"><a class="reference external" href="../../src.provider.getter.html">Getter</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.Attribute.html#src.provider.getter.Attribute.Attribute">Attribute</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.AttributeMerger.html#src.provider.getter.AttributeMerger.AttributeMerger">AttributeMerger</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.Entity.html#src.provider.getter.Entity.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.Material.html#src.provider.getter.Material.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.POI.html#src.provider.getter.POI.POI">POI</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.getter.Texture.html#src.provider.getter.Texture.Texture">Texture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.provider.sampler.html">Sampler</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Color.html#src.provider.sampler.Color.Color">Color</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Disk.html#src.provider.sampler.Disk.Disk">Disk</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.PartSphere.html#src.provider.sampler.PartSphere.PartSphere">PartSphere</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Path.html#src.provider.sampler.Path.Path">Path</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Shell.html#src.provider.sampler.Shell.Shell">Shell</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Sphere.html#src.provider.sampler.Sphere.Sphere">Sphere</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Texture.html#src.provider.sampler.Texture.Texture">Texture</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Uniform3d.html#src.provider.sampler.Uniform3d.Uniform3d">Uniform3d</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.UniformSO3.html#src.provider.sampler.UniformSO3.UniformSO3">UniformSO3</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.UpperRegionSampler.html#src.provider.sampler.UpperRegionSampler.Region2D">Region2D</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.UpperRegionSampler.html#src.provider.sampler.UpperRegionSampler.UpperRegionSampler">UpperRegionSampler</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.provider.sampler.Value.html#src.provider.sampler.Value.Value">Value</a></li>
</ul>
</li>
</ul>
<ul class="compound-last">
<p class="caption"><span class="caption-text">Core</span></p>
<li class="toctree-l1"><a class="reference external" href="../../src.main.html">Main</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.main.GlobalStorage.html#src.main.GlobalStorage.GlobalStorage">GlobalStorage</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.main.InitializerModule.html#src.main.InitializerModule.InitializerModule">InitializerModule</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.main.Module.html#src.main.Module.Module">Module</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.main.Pipeline.html#src.main.Pipeline.Pipeline">Pipeline</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.main.Provider.html#src.main.Provider.Provider">Provider</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="../../src.utility.html">Utility</a><ul>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.BopWriterUtility.html#src.utility.BopWriterUtility.BopWriterUtility">BopWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.CameraUtility.html#src.utility.CameraUtility.CameraUtility">CameraUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.CocoWriterUtility.html#src.utility.CocoWriterUtility.CocoWriterUtility">CocoWriterUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.CollisionUtility.html#src.utility.CollisionUtility.CollisionUtility">CollisionUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Config.html#src.utility.Config.Config">Config</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.ConfigParser.html#src.utility.ConfigParser.ConfigParser">ConfigParser</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.ConfigParser.html#src.utility.ConfigParser.PlaceholderTypes">PlaceholderTypes</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.DefaultConfig.html#src.utility.DefaultConfig.DefaultConfig">DefaultConfig</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.EntityUtility.html#src.utility.EntityUtility.Entity">Entity</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.FlowRendererUtility.html#src.utility.FlowRendererUtility.FlowRendererUtility">FlowRendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Initializer.html#src.utility.Initializer.Initializer">Initializer</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.ItemCollection.html#src.utility.ItemCollection.ItemCollection">ItemCollection</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.ItemWriter.html#src.utility.ItemWriter.ItemWriter">ItemWriter</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.LabelIdMapping.html#src.utility.LabelIdMapping.LabelIdMapping">LabelIdMapping</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.LightUtility.html#src.utility.LightUtility.Light">Light</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.MaterialLoaderUtility.html#src.utility.MaterialLoaderUtility.MaterialLoaderUtility">MaterialLoaderUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.MaterialUtility.html#src.utility.MaterialUtility.Material">Material</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.MathUtility.html#src.utility.MathUtility.MathUtility">MathUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.MeshObjectUtility.html#src.utility.MeshObjectUtility.MeshObject">MeshObject</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.PostProcessingUtility.html#src.utility.PostProcessingUtility.PostProcessingUtility">PostProcessingUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.RendererUtility.html#src.utility.RendererUtility.RendererUtility">RendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.SegMapRendererUtility.html#src.utility.SegMapRendererUtility.SegMapRendererUtility">SegMapRendererUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.SetupUtility.html#src.utility.SetupUtility.SetupUtility">SetupUtility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.StructUtility.html#src.utility.StructUtility.Struct">Struct</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Utility.html#src.utility.Utility.KeyFrame">KeyFrame</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Utility.html#src.utility.Utility.KeyFrameState">KeyFrameState</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Utility.html#src.utility.Utility.Utility">Utility</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Utility.html#src.utility.Utility.Utility.BlockStopWatch">BlockStopWatch</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.Utility.html#src.utility.Utility.Utility.UndoAfterExecution">UndoAfterExecution</a></li>
<li class="toctree-l2"><a class="reference external" href="../../src.utility.WriterUtility.html#src.utility.WriterUtility.WriterUtility">WriterUtility</a></li>
</ul>
</li>
</ul>
</div>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BlenderProc</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Stereo Matching</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/stereo_matching/README.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="stereo-matching">
<h1>Stereo Matching<a class="headerlink" href="#stereo-matching" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="stereo_pair.png"><img alt="" src="../../_images/stereo_pair.png" /></a>
<a class="reference external image-reference" href="stereo_depth.png"><img alt="" src="../../_images/stereo_depth.png" /></a>
<p>In the first row we can see the rendered stereo RGB images, left and right respectively, and beneath them we can view
the computed depth image using stereo matching. Note that due to a high discrepancy between the TV and the rest
of the rendered scene, the visualization is not descriptive enough. This discrepancy or high depth values at the TV
is due to a lack of gradient or useful features for stereo matching in this area. However, the depth values in other
areas are consistent and close to the rendered depth images.</p>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Execute in the BlenderProc main directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">run</span><span class="o">.</span><span class="n">py</span> <span class="n">examples</span><span class="o">/</span><span class="n">stereo_matching</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">yaml</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">cam_pose</span> <span class="n">file</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">path</span> <span class="n">to</span> <span class="n">house</span><span class="o">.</span><span class="n">json</span><span class="o">&gt;</span> <span class="n">examples</span><span class="o">/</span><span class="n">stereo_matching</span><span class="o">/</span><span class="n">output</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">examples/stereo_matching/config.yaml</span></code>: path to the configuration file with pipeline configuration.</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">cam_pose</span> <span class="pre">file&gt;</span></code>: Should point to a file which describes one camera pose per line (here the output of <code class="docutils literal notranslate"><span class="pre">scn2cam</span></code> from the <code class="docutils literal notranslate"><span class="pre">SUNCGToolbox</span></code> can be used).</li>
<li><code class="docutils literal notranslate"><span class="pre">&lt;path</span> <span class="pre">to</span> <span class="pre">house.json&gt;</span></code>: Path to the house.json file of the SUNCG scene you want to render. Which should be either located inside the SUNCG directory, or the SUNCG directory path should be added to the config file.</li>
<li><code class="docutils literal notranslate"><span class="pre">examples/stereo_matching/output</span></code>: path to the output directory.</li>
</ul>
</div>
<div class="section" id="visualizaton">
<h2>Visualizaton<a class="headerlink" href="#visualizaton" title="Permalink to this headline">¶</a></h2>
<p>Visualize the generated data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">scripts</span><span class="o">/</span><span class="n">visHdf5Files</span><span class="o">.</span><span class="n">py</span> <span class="n">examples</span><span class="o">/</span><span class="n">stereo_matching</span><span class="o">/</span><span class="n">output</span><span class="o">/</span><span class="mf">1.</span><span class="n">hdf5</span>
</pre></div>
</div>
</div>
<div class="section" id="steps">
<h2>Steps<a class="headerlink" href="#steps" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Loads a SUNCG scene: <code class="docutils literal notranslate"><span class="pre">loader.SuncgLoader</span></code> module.</li>
<li>Loads camera positions from a given file: <code class="docutils literal notranslate"><span class="pre">camera.CameraLoader</span></code> module.</li>
<li>Automatically adds light sources inside each room: <code class="docutils literal notranslate"><span class="pre">lighting.SuncgLighting</span></code> module.</li>
<li>Renders semantic segmentation map: <code class="docutils literal notranslate"><span class="pre">renderer.SegMapRenderer</span></code> module.</li>
<li>Renders rgb, depth and normals in stereo mode: <code class="docutils literal notranslate"><span class="pre">renderer.RgbRenderer</span></code> module.</li>
<li>Computes depth based on stereo matching: <code class="docutils literal notranslate"><span class="pre">writer.StereoGlobalMatchingWriter</span></code> module</li>
<li>Merges all into an <code class="docutils literal notranslate"><span class="pre">.hdf5</span></code> file: <code class="docutils literal notranslate"><span class="pre">writer.Hdf5Writer</span></code> module.</li>
</ul>
</div>
<div class="section" id="config-file">
<h2>Config file<a class="headerlink" href="#config-file" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;pip&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">&quot;h5py&quot;</span><span class="p">,</span>
      <span class="s2">&quot;opencv-python&quot;</span><span class="p">,</span>
      <span class="s2">&quot;numpy&quot;</span><span class="p">,</span>
      <span class="s2">&quot;Pillow&quot;</span><span class="p">,</span>
      <span class="s2">&quot;opencv-contrib-python&quot;</span><span class="p">,</span>
      <span class="s2">&quot;scipy&quot;</span>
    <span class="p">]</span>
</pre></div>
</div>
<p>Make sure these python packages are included.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;global&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
  <span class="s">&quot;output_dir&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;args:2&gt;&quot;</span><span class="p p-Indicator">,</span>
  <span class="s">&quot;resolution_x&quot;</span><span class="p p-Indicator">:</span> <span class="nv">1280</span><span class="p p-Indicator">,</span>
  <span class="s">&quot;resolution_y&quot;</span><span class="p p-Indicator">:</span> <span class="nv">720</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Indicate the desired output image resolution globally inside of the settings of the <code class="docutils literal notranslate"><span class="pre">&quot;main.Initializer&quot;</span></code>.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
  <span class="s">&quot;module&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;camera.CameraLoader&quot;</span><span class="p p-Indicator">,</span>
  <span class="s">&quot;config&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
    <span class="s">&quot;path&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;&lt;args:0&gt;&quot;</span><span class="p p-Indicator">,</span>
    <span class="s">&quot;file_format&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;location</span><span class="nv"> </span><span class="s">rotation/value</span><span class="nv"> </span><span class="s">_</span><span class="nv"> </span><span class="s">_</span><span class="nv"> </span><span class="s">_</span><span class="nv"> </span><span class="s">_</span><span class="nv"> </span><span class="s">_</span><span class="nv"> </span><span class="s">_&quot;</span><span class="p p-Indicator">,</span>
    <span class="s">&quot;source_frame&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;X&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;-Z&quot;</span><span class="p p-Indicator">,</span> <span class="s">&quot;Y&quot;</span><span class="p p-Indicator">],</span>
    <span class="s">&quot;default_cam_param&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
      <span class="s">&quot;rotation&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
        <span class="s">&quot;format&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;forward_vec&quot;</span>
      <span class="p p-Indicator">}</span>
    <span class="p p-Indicator">},</span>
    <span class="s">&quot;intrinsics&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
      <span class="s">&quot;interocular_distance&quot;</span><span class="p p-Indicator">:</span> <span class="nv">0.05</span><span class="p p-Indicator">,</span>
      <span class="s">&quot;stereo_convergence_mode&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;PARALLEL&quot;</span><span class="p p-Indicator">,</span>
      <span class="s">&quot;convergence_distance&quot;</span><span class="p p-Indicator">:</span> <span class="nv">0.00001</span><span class="p p-Indicator">,</span>
      <span class="s">&quot;cam_K&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">650.018</span><span class="p p-Indicator">,</span> <span class="nv">0</span><span class="p p-Indicator">,</span> <span class="nv">637.962</span><span class="p p-Indicator">,</span> <span class="nv">0</span><span class="p p-Indicator">,</span> <span class="nv">650.018</span><span class="p p-Indicator">,</span> <span class="nv">355.984</span><span class="p p-Indicator">,</span> <span class="nv">0</span><span class="p p-Indicator">,</span> <span class="nv">0</span> <span class="p p-Indicator">,</span><span class="nv">1</span><span class="p p-Indicator">],</span>
      <span class="s">&quot;resolution_x&quot;</span><span class="p p-Indicator">:</span> <span class="nv">1280</span><span class="p p-Indicator">,</span>
      <span class="s">&quot;resolution_y&quot;</span><span class="p p-Indicator">:</span> <span class="nv">720</span>
    <span class="p p-Indicator">},</span>
  <span class="p p-Indicator">}</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Here we specify the camera parameters, some notable points are:</p>
<ul class="simple">
<li>Setting the <code class="docutils literal notranslate"><span class="pre">interocular_distance</span></code> which is the stereo baseline.</li>
<li>Specifying <code class="docutils literal notranslate"><span class="pre">stereo_convergence_mode</span></code> to be parallel (i.e. both cameras lie on the same line and are just shifted by <code class="docutils literal notranslate"><span class="pre">interocular_distance</span></code>, and are trivially coplanar).<ul>
<li>Other options are <code class="docutils literal notranslate"><span class="pre">OFF-AXIS</span></code> where the cameras rotate inwards (converge) up to some plane.</li>
<li>Check <code class="docutils literal notranslate"><span class="pre">camera.CameraModule</span></code>’s documentation for more info.</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">Convergence_distance</span></code> is the distance from the cameras to the aforementioned plane they converge to in case of <code class="docutils literal notranslate"><span class="pre">OFF-AXIS</span></code> convergence mode. In this case, this parameter is ignored by Blender, but it is added here for clarification.</li>
<li>Adding a camera matrix in <code class="docutils literal notranslate"><span class="pre">cam_K</span></code>.</li>
<li>Adding the image resolution once again in <code class="docutils literal notranslate"><span class="pre">intrinsics</span></code>, since this nested parameter is not on the same level as the global parameters, and thus the global parameters won’t affect any configuration inside <code class="docutils literal notranslate"><span class="pre">intrinsics</span></code>.</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
  <span class="s">&quot;module&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;renderer.RgbRenderer&quot;</span><span class="p p-Indicator">,</span>
  <span class="s">&quot;config&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
    <span class="s">&quot;render_distance&quot;</span><span class="p p-Indicator">:</span> <span class="nv">true</span><span class="p p-Indicator">,</span>
    <span class="s">&quot;render_normals&quot;</span><span class="p p-Indicator">:</span> <span class="nv">true</span><span class="p p-Indicator">,</span>
    <span class="s">&quot;stereo&quot;</span><span class="p p-Indicator">:</span> <span class="nv">true</span>
  <span class="p p-Indicator">}</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>We enable stereo rendering here. Also notice the order of the modules, where the stereo RGB rendering should be added before stereo matching. Orderings generally reflect dependencies.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">{</span>
  <span class="s">&quot;module&quot;</span><span class="p p-Indicator">:</span> <span class="s">&quot;writer.StereoGlobalMatchingWriter&quot;</span><span class="p p-Indicator">,</span>
  <span class="s">&quot;config&quot;</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">{</span>
    <span class="s">&quot;focal_length&quot;</span><span class="p p-Indicator">:</span> <span class="nv">650.018</span><span class="p p-Indicator">,</span>
    <span class="s">&quot;disparity_filter&quot;</span><span class="p p-Indicator">:</span> <span class="nv">false</span>
  <span class="p p-Indicator">}</span>
<span class="p p-Indicator">}</span>
</pre></div>
</div>
<p>Finally, we add the module responsible for stereo matching. This module has the following attributes and configurations:</p>
<ul class="simple">
<li>It is based on OpenCV’s <a class="reference external" href="https://docs.opencv.org/2.4/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html?highlight=sgbm#stereosgbm-stereosgbm">implementation</a> of <a class="reference external" href="https://elib.dlr.de/73119/1/180Hirschmueller.pdf">stereo semi global matching</a>.</li>
<li>Its pipeline runs as follows:<ul>
<li>Compute the disparity map between the two images. After specifying the required parameters.</li>
<li>Optional use of a disparity filter (namely <code class="docutils literal notranslate"><span class="pre">wls_filter</span></code>). Enabled by setting <code class="docutils literal notranslate"><span class="pre">disparity_filter</span></code> (Enabling it could possibly lead to less accurate depth values. One should experiment with this parameter).</li>
<li>Triangulate the depth values using the focal length and disparity.</li>
<li>Clip the depth map from 0 to <code class="docutils literal notranslate"><span class="pre">depth_max</span></code>, where this value is retrieved from <code class="docutils literal notranslate"><span class="pre">renderer.Renderer</span></code>.</li>
<li>Apply an optional <a class="reference external" href="https://github.com/kujason/ip_basic/blob/master/ip_basic/depth_map_utils.py">depth completion routine</a>, based on simple image processing techniques. This is enabled by setting <code class="docutils literal notranslate"><span class="pre">depth_completion</span></code>.</li>
<li>Finally, save the resulting depth map and optionally the disparity map in the .hdf5 file that contains the rendered outputs with keys: <code class="docutils literal notranslate"><span class="pre">stereo-depth</span></code> and <code class="docutils literal notranslate"><span class="pre">disparity</span></code> respectively. This is handled by the module: <code class="docutils literal notranslate"><span class="pre">writer.Hdf5Writer</span></code>.</li>
</ul>
</li>
<li>The focal length can be either set manually, or inferred from the field of view angle that in this case should be supplied to the CameraModule. To specify how it should be retrieved, use this config parameter: <code class="docutils literal notranslate"><span class="pre">infer_focal_length_from_fov</span></code></li>
<li>There are some stereo semi global matching parameters that can be configured from the config file, such as:<ul>
<li><code class="docutils literal notranslate"><span class="pre">window_size</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">num_disparities</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">min_disparity</span></code></li>
<li>These are usually the most important parameters that need to be tuned. It is advisable that you try the <code class="docutils literal notranslate"><span class="pre">StereoGlobalMatchingWriter</span></code> externally on a few test images
to tune the parameters, and then apply it in BlenderProc.</li>
</ul>
</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, DLR RMC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>